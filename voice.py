#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ะะะะะกะะะะ ะะกะกะะกะขะะะข ะก ะะะคะะะะะฆะะะ
ะฃะผะตะตั ัะฐััะบะฐะทัะฒะฐัั ัะธัะฐัั, ัะฐะบัั, ะฝะพะฒะพััะธ ะธ ะผะฝะพะณะพะต ะดััะณะพะต
"""

import speech_recognition as sr
import datetime
import webbrowser
import time
import random
import requests
import json
import os
from typing import List, Dict
import sys

# ================= ะะะะซ ะะะะะซะฅ ะะะคะะะะะฆะะ =================

QUOTES_RU = [
    "ะกะฐะผัะน ะฑะพะปััะพะน ัะธัะบ โ ะฝะต ัะธัะบะพะฒะฐัั ะฒะพะพะฑัะต. ะ ะผะธัะต, ะบะพัะพััะน ะผะตะฝัะตััั ะพัะตะฝั ะฑััััะพ, ะตะดะธะฝััะฒะตะฝะฝะฐั ัััะฐัะตะณะธั, ะบะพัะพัะฐั ะณะฐัะฐะฝัะธัะพะฒะฐะฝะฝะพ ะฟะพัะตัะฟะธั ะฝะตัะดะฐัั, โ ััะพ ะฝะต ัะธัะบะพะฒะฐัั.",
    "ะฃัะฟะตั โ ััะพ ัะฟะพัะพะฑะฝะพััั ะธะดัะธ ะพั ะฝะตัะดะฐัะธ ะบ ะฝะตัะดะฐัะต, ะฝะต ัะตััั ัะฝััะทะธะฐะทะผะฐ.",
    "ะัััะตะต ะฒัะตะผั, ััะพะฑั ะฟะพัะฐะดะธัั ะดะตัะตะฒะพ, ะฑัะปะพ 20 ะปะตั ะฝะฐะทะฐะด. ะกะปะตะดัััะตะต ะปัััะตะต ะฒัะตะผั โ ัะตะนัะฐั.",
    "ะะต ะพัะธะฑะฐะตััั ัะพั, ะบัะพ ะฝะธัะตะณะพ ะฝะต ะดะตะปะฐะตั. ะะต ะฑะพะนัะตัั ะพัะธะฑะฐัััั โ ะฑะพะนัะตัั ะฟะพะฒัะพัััั ะพัะธะฑะบะธ.",
    "ะััั ัะพะปัะบะพ ะพะดะธะฝ ัะฟะพัะพะฑ ะธะทะฑะตะถะฐัั ะบัะธัะธะบะธ: ะฝะธัะตะณะพ ะฝะต ะดะตะปะฐะนัะต, ะฝะธัะตะณะพ ะฝะต ะณะพะฒะพัะธัะต ะธ ะฑัะดััะต ะฝะธะบะตะผ.",
    "ะกะฝะฐัะฐะปะฐ ะพะฝะธ ะธะณะฝะพัะธัััั ัะตะฑั, ะฟะพัะพะผ ัะผะตัััั ะฝะฐะด ัะพะฑะพะน, ะฟะพัะพะผ ะฑะพััััั ั ัะพะฑะพะน, ะฐ ะฟะพัะพะผ ัั ะฟะพะฑะตะถะดะฐะตัั.",
    "ะะตััั ััะฐะฝะพะฒัััั ัะตะฐะปัะฝะพัััั, ะบะพะณะดะฐ ะผััะปะธ ะฟัะตะฒัะฐัะฐัััั ะฒ ะดะตะนััะฒะธั.",
    "ะะต ะถะดะธัะต ะฟะพะดัะพะดััะตะณะพ ะผะพะผะตะฝัะฐ. ะะพะทัะผะธัะต ะผะพะผะตะฝั ะธ ัะดะตะปะฐะนัะต ะตะณะพ ะฟะพะดัะพะดััะธะผ.",
    "ะะดะธะฝััะฒะตะฝะฝัะน ัะฟะพัะพะฑ ะดะตะปะฐัั ะฒะตะปะธะบะธะต ะดะตะปะฐ โ ะปัะฑะธัั ัะพ, ััะพ ะฒั ะดะตะปะฐะตัะต.",
    "ะัะดััะตะต ะฟัะธะฝะฐะดะปะตะถะธั ัะตะผ, ะบัะพ ะฒะตัะธั ะฒ ะบัะฐัะพัั ัะฒะพะตะน ะผะตััั."
]

FACTS_RUSSIAN = [
    "ะะพัะบะฒะฐ ะฑัะปะฐ ะพัะฝะพะฒะฐะฝะฐ ะฒ 1147 ะณะพะดั ะบะฝัะทะตะผ ะฎัะธะตะผ ะะพะปะณะพััะบะธะผ.",
    "ะะพััะธั โ ัะฐะผะฐั ะฑะพะปััะฐั ัััะฐะฝะฐ ะฒ ะผะธัะต ะฟะพ ะฟะปะพัะฐะดะธ.",
    "ะ ะะพััะธะธ ะฝะฐัะพะดะธััั ัะฐะผะพะต ะณะปัะฑะพะบะพะต ะพะทะตัะพ ะฒ ะผะธัะต โ ะะฐะนะบะฐะป.",
    "ะะตััะพ ะฒ ะะพัะบะฒะต โ ะพะดะฝะพ ะธะท ัะฐะผัั ะบัะฐัะธะฒัั ะฒ ะผะธัะต.",
    "ะัััะบะธะน ัะทัะบ ัะฒะปัะตััั ะพะดะฝะธะผ ะธะท ัะตััะธ ะพัะธัะธะฐะปัะฝัั ัะทัะบะพะฒ ะะะ.",
    "ะขัะฐะฝััะธะฑะธััะบะฐั ะผะฐะณะธัััะฐะปั โ ัะฐะผะฐั ะดะปะธะฝะฝะฐั ะถะตะปะตะทะฝะฐั ะดะพัะพะณะฐ ะฒ ะผะธัะต.",
    "ะ ะกะฐะฝะบั-ะะตัะตัะฑััะณะต 342 ะผะพััะฐ, ััะพ ะฑะพะปััะต ัะตะผ ะฒ ะะตะฝะตัะธะธ.",
    "ะะฐััััะบะฐ โ ัะฐะผัะน ะธะทะฒะตััะฝัะน ััััะบะธะน ััะฒะตะฝะธั, ะฟะพัะฒะธะปะฐัั ะฒ ะบะพะฝัะต 19 ะฒะตะบะฐ.",
    "ะะพััะธั ะณัะฐะฝะธัะธั ั 16 ัััะฐะฝะฐะผะธ โ ััะพ ะผะธัะพะฒะพะน ัะตะบะพัะด.",
    "ะฃัะฐะปััะบะธะต ะณะพัั ะดะตะปัั ะะพััะธั ะฝะฐ ะะฒัะพะฟะตะนัะบัั ะธ ะะทะธะฐััะบัั ัะฐััะธ."
]

SCIENCE_FACTS = [
    "ะงะตะปะพะฒะตัะตัะบะพะต ัะตะปะพ ัะพััะพะธั ะฟัะธะผะตัะฝะพ ะธะท 37 ััะธะปะปะธะพะฝะพะฒ ะบะปะตัะพะบ.",
    "ะกะฒะตั ะพั ะกะพะปะฝัะฐ ะดะพ ะะตะผะปะธ ะธะดะตั 8 ะผะธะฝัั ะธ 20 ัะตะบัะฝะด.",
    "ะะตะฝะตัะฐ โ ะตะดะธะฝััะฒะตะฝะฝะฐั ะฟะปะฐะฝะตัะฐ, ะบะพัะพัะฐั ะฒัะฐัะฐะตััั ะฟะพ ัะฐัะพะฒะพะน ัััะตะปะบะต.",
    "ะะพะทะณ ัะตะปะพะฒะตะบะฐ ะฝะฐ 60% ัะพััะพะธั ะธะท ะถะธัะฐ.",
    "ะัะพะผ ะฝะฐ 99,9% ัะพััะพะธั ะธะท ะฟัััะพะณะพ ะฟัะพัััะฐะฝััะฒะฐ.",
    "ะฃ ะพััะผะธะฝะพะณะฐ ััะธ ัะตัะดัะฐ ะธ ะณะพะปัะฑะฐั ะบัะพะฒั.",
    "ะะตะดัะทั ะฝะฐ 95% ัะพััะพัั ะธะท ะฒะพะดั.",
    "ะะฐะฑะพัะบะธ ะฟัะพะฑััั ะตะดั ะฝะพะณะฐะผะธ โ ั ะฝะธั ัะฐะผ ะฒะบััะพะฒัะต ัะตัะตะฟัะพัั.",
    "ะกะตัะดัะต ะบะธัะฐ ะฑัะตััั ะฒัะตะณะพ 9 ัะฐะท ะฒ ะผะธะฝััั.",
    "ะกัะตะบะปะพ โ ััะพ ะถะธะดะบะพััั, ะบะพัะพัะฐั ัะตัะตั ะพัะตะฝั ะผะตะดะปะตะฝะฝะพ."
]

JOKES = [
    "ะัะพะณัะฐะผะผะธัั ะทะฒะพะฝะธั ะฒ ะฑะธะฑะปะธะพัะตะบั ะธ ัะฟัะฐัะธะฒะฐะตั: 'ะะพะถะฝะพ ะบะฝะธะณั ะพ ะฟัะพะฑะปะตะผะฐั ั ะฑะฐะณะฐะผะธ?' ะะธะฑะปะธะพัะตะบะฐัั ะพัะฒะตัะฐะตั: 'ะะฝะฐ ะฒ ัะพัะตะดะฝะตะผ ะทะฐะปะต, ะฒ ัะฐะทะดะตะปะต ัะฐะฝัะฐััะธะบะธ.'",
    "ะะพัะตะผั ะฟัะพะณัะฐะผะผะธััั ะฟััะฐัั ะฅัะปะปะพัะธะฝ ะธ ะะพะถะดะตััะฒะพ? ะะพัะพะผั ััะพ Oct 31 == Dec 25.",
    "ะกะบะพะปัะบะพ ะฟัะพะณัะฐะผะผะธััะพะฒ ะฝัะถะฝะพ, ััะพะฑั ะฒะบัััะธัั ะปะฐะผะฟะพัะบั? ะะธ ะพะดะฝะพะณะพ, ััะพ ะฐะฟะฟะฐัะฐัะฝะฐั ะฟัะพะฑะปะตะผะฐ!",
    "ะะฐัะพะดะธั ะบะฐะบ-ัะพ ะฟัะพะณัะฐะผะผะธัั ะฒ ะฑะฐั ะธ ะทะฐะบะฐะทัะฒะฐะตั 1.5 ะปะธััะฐ ะฟะธะฒะฐ. ะะฐัะผะตะฝ ัะฟัะฐัะธะฒะฐะตั: 'ะะพัะตะผั ะฝะต 2?' ะ ะฟัะพะณัะฐะผะผะธัั ะพัะฒะตัะฐะตั: 'ะะพัะพะผั ััะพ 1.5 โ ััะพ float, ะฐ 2 โ ััะพ integer.'",
    "ะะพัะตะผั Python ะฟะพัะพะถ ะฝะฐ ะทะผะตั? ะะพัะพะผั ััะพ ะพะฑะฐ ะผะพะณัั ัะบััะธัั, ะตัะปะธ ั ะฝะธะผะธ ะฝะตะฟัะฐะฒะธะปัะฝะพ ะพะฑัะฐัะฐัััั!"
]

WEATHER_INFO = {
    "ะผะพัะบะฒะฐ": "ะ ะะพัะบะฒะต ัะตะนัะฐั +5ยฐC, ะฝะตะฑะพะปััะฐั ะพะฑะปะฐัะฝะพััั. ะะตัะตั 3 ะผ/ั.",
    "ัะฐะฝะบั-ะฟะตัะตัะฑััะณ": "ะ ะกะฐะฝะบั-ะะตัะตัะฑััะณะต +3ยฐC, ะฟะฐัะผััะฝะพ. ะะพะทะผะพะถะตะฝ ะฝะตะฑะพะปััะพะน ะดะพะถะดั.",
    "ะฝะพะฒะพัะธะฑะธััะบ": "ะ ะะพะฒะพัะธะฑะธััะบะต -10ยฐC, ััะฝะพ. ะะตัะตั 5 ะผ/ั.",
    "ะบะฐะทะฐะฝั": "ะ ะะฐะทะฐะฝะธ 0ยฐC, ะฟะตัะตะผะตะฝะฝะฐั ะพะฑะปะฐัะฝะพััั.",
    "ัะพัะธ": "ะ ะกะพัะธ +15ยฐC, ัะพะปะฝะตัะฝะพ. ะัะปะธัะฝะฐั ะฟะพะณะพะดะฐ ะดะปั ะพัะดััะฐ!"
}

# ================= ะะะะกะก ะะกะกะะกะขะะะขะ =================

class InfoAssistant:
    """ะััะธััะตะฝั ั ะธะฝัะพัะผะฐัะธะพะฝะฝัะผะธ ะบะพะผะฐะฝะดะฐะผะธ"""
    
    def __init__(self):
        self.recognizer = sr.Recognizer()
        self.running = True
        self.commands = self._setup_commands()
        print("๐ค ะะฝัะพัะผะฐัะธะพะฝะฝัะน ะฐััะธััะตะฝั ะธะฝะธัะธะฐะปะธะทะธัะพะฒะฐะฝ")
    
    def _setup_commands(self) -> Dict:
        """ะะฐัััะพะนะบะฐ ะฒัะตั ะบะพะผะฐะฝะด"""
        return {
            'ะฟัะธะฒะตั': self.cmd_hello,
            'ะฒัะตะผั': self.cmd_time,
            'ะดะฐัะฐ': self.cmd_date,
            'ัะธัะฐัะฐ': self.cmd_quote,
            'ัะฐะบั': self.cmd_fact,
            'ัััะบะฐ': self.cmd_joke,
            'ะฟะพะณะพะดะฐ': self.cmd_weather,
            'ะฝะพะฒะพััะธ': self.cmd_news,
            'ะบััั': self.cmd_currency,
            'ะฟะพะผะพัั': self.cmd_help,
            'ะบะพะผะฐะฝะดั': self.cmd_help,
            'ััะพะฟ': self.cmd_stop,
            'ะฒััะพะด': self.cmd_stop,
            'ะฑัะฐัะทะตั': self.cmd_browser,
            'ัััะฑ': self.cmd_youtube,
            'ะฝะฐัะบะฐ': self.cmd_science,
            'ะธััะพัะธั': self.cmd_history,
            'ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต': self.cmd_programming,
            'ัะพะฒะตั': self.cmd_advice
        }
    
    def listen_command(self) -> str:
        """ะกะปััะฐัั ะบะพะผะฐะฝะดั"""
        try:
            with sr.Microphone() as source:
                print("\n๐ค ะกะปััะฐั... (ะณะพะฒะพัะธัะต ะบะพะผะฐะฝะดั)")
                
                # ะะฐัััะพะนะบะธ
                self.recognizer.energy_threshold = 4000
                self.recognizer.pause_threshold = 0.8
                
                # ะกะปััะฐะตะผ
                audio = self.recognizer.listen(
                    source, 
                    timeout=4, 
                    phrase_time_limit=5
                )
                
                # ะะฐัะฟะพะทะฝะฐะตะผ
                text = self.recognizer.recognize_google(audio, language='ru-RU')
                print(f"๐ค ะั: {text}")
                return text.lower()
                
        except sr.UnknownValueError:
            print("๐ค: ะะต ัะฐััะปััะฐะป ะบะพะผะฐะฝะดั")
            return ""
        except sr.RequestError:
            print("๐ค: ะัะพะฑะปะตะผะฐ ั ะธะฝัะตัะฝะตั-ัะพะตะดะธะฝะตะฝะธะตะผ")
            return ""
        except Exception as e:
            # ะะต ะฟะตัะฐัะฐะตะผ ะพัะธะฑะบั, ะตัะปะธ ััะพ ะฟัะพััะพ ะฟัะตััะฒะฐะฝะธะต (ะฝะพ ะพะฑัะฐะฑะพัะฐะตะผ ะตะณะพ ะฒััะต)
            print(f"๐ค: ะัะธะฑะบะฐ ะฟัะธ ะทะฐะฟะธัะธ: {e}")
            return ""
    
    def print_info(self, title: str, content: str):
        """ะัะฐัะธะฒะพ ะฒัะฒะพะดะธั ะธะฝัะพัะผะฐัะธั"""
        print("\n" + "="*60)
        print(f"๐ {title.upper()}")
        print("="*60)
        print(content)
        print("="*60)
    
    # ================= ะะะะะะะซ ะะะคะะะะะฆะะ =================
    
    def cmd_hello(self):
        """ะัะธะฒะตัััะฒะธะต"""
        self.print_info("ะะะะะะขะกะขะะะ", 
                       "ะัะธะฒะตั! ะฏ ะฒะฐั ะธะฝัะพัะผะฐัะธะพะฝะฝัะน ะฟะพะผะพัะฝะธะบ.\n"
                       "ะฏ ะผะพะณั ัะฐััะบะฐะทะฐัั ัะธัะฐัั, ัะฐะบัั, ัััะบะธ, ะฟะพะณะพะดั ะธ ะผะฝะพะณะพะต ะดััะณะพะต.\n"
                       "ะัะพััะพ ัะบะฐะถะธัะต ััะพ ะฒะฐั ะธะฝัะตัะตััะตั!")
        return True
    
    def cmd_time(self):
        """ะขะตะบััะตะต ะฒัะตะผั"""
        current_time = datetime.datetime.now().strftime("%H:%M:%S")
        self.print_info("ะขะะะฃะฉะะ ะะะะะฏ", f"ะกะตะนัะฐั ัะพัะฝะพ: {current_time}")
        return True
    
    def cmd_date(self):
        """ะขะตะบััะฐั ะดะฐัะฐ"""
        current_date = datetime.datetime.now().strftime("%d %B %Y ะณะพะดะฐ")
        day_of_week = ["ะฟะพะฝะตะดะตะปัะฝะธะบ", "ะฒัะพัะฝะธะบ", "ััะตะดะฐ", "ัะตัะฒะตัะณ", "ะฟััะฝะธัะฐ", "ััะฑะฑะพัะฐ", "ะฒะพัะบัะตัะตะฝัะต"]
        weekday = day_of_week[datetime.datetime.now().weekday()]
        self.print_info("ะกะะะะะะฏะจะะฏะฏ ะะะขะ", f"ะกะตะณะพะดะฝั {current_date}\nะญัะพ {weekday}")
        return True
    
    def cmd_quote(self):
        """ะกะปััะฐะนะฝะฐั ัะธัะฐัะฐ"""
        quote = random.choice(QUOTES_RU)
        author = random.choice(["ะะธะฝััะพะฝ ะงะตััะธะปะปั", "ะขะตะพะดะพั ะัะทะฒะตะปัั", "ะะฐัะบ ะขะฒะตะฝ", 
                               "ะะปัะฑะตัั ะญะนะฝััะตะนะฝ", "ะกัะธะฒ ะะถะพะฑั", "ะะพะฝัััะธะน", "ะะตะฒ ะขะพะปััะพะน"])
        self.print_info("ะฆะะขะะขะ ะะะฏ", f"ยซ{quote}ยป\n\nโ {author}")
        return True
    
    def cmd_fact(self):
        """ะะฝัะตัะตัะฝัะน ัะฐะบั"""
        fact_type = random.choice(["russian", "science", "general"])
        
        if fact_type == "russian":
            fact = random.choice(FACTS_RUSSIAN)
            category = "ะ ะะะกะกะะ"
        elif fact_type == "science":
            fact = random.choice(SCIENCE_FACTS)
            category = "ะะะฃะงะะซะ ะคะะะข"
        else:
            facts_general = [
                "ะะพะปะธะฑัะธ โ ะตะดะธะฝััะฒะตะฝะฝะฐั ะฟัะธัะฐ, ะบะพัะพัะฐั ัะผะตะตั ะปะตัะฐัั ะฝะฐะทะฐะด.",
                "ะกััะฐััั ะผะพะณัั ะฑะตะถะฐัั ัะพ ัะบะพัะพัััั ะดะพ 70 ะบะผ/ั.",
                "ะะตะด ะฝะธะบะพะณะดะฐ ะฝะต ะฟะพััะธััั. ะััะตะพะปะพะณะธ ะฝะฐัะพะดะธะปะธ ััะตะดะพะฑะฝัะน ะผะตะด ะฒ ะณัะพะฑะฝะธัะฐั ัะฐัะฐะพะฝะพะฒ.",
                "ะฃ ัะปะธัะบะธ ะพะบะพะปะพ 25 000 ะทัะฑะพะฒ.",
                "ะััะผะธะฝะพะณ ะธะผะตะตั ะฟััะผะพัะณะพะปัะฝัะน ะทัะฐัะพะบ."
            ]
            fact = random.choice(facts_general)
            category = "ะะะขะะะะกะะซะ ะคะะะข"
        
        self.print_info(category, fact)
        return True
    
    def cmd_joke(self):
        """ะะฐััะบะฐะทะฐัั ัััะบั"""
        joke = random.choice(JOKES)
        self.print_info("ะจะฃะขะะ", joke)
        return True
    
    def cmd_weather(self):
        """ะะฝัะพัะผะฐัะธั ะพ ะฟะพะณะพะดะต"""
        print("\n๐ค: ะะปั ะบะฐะบะพะณะพ ะณะพัะพะดะฐ ะฟะพะบะฐะทะฐัั ะฟะพะณะพะดั?")
        print("ะะพัััะฟะฝะพ: ะะพัะบะฒะฐ, ะกะฐะฝะบั-ะะตัะตัะฑััะณ, ะะพะฒะพัะธะฑะธััะบ, ะะฐะทะฐะฝั, ะกะพัะธ")
        
        city = self.listen_command()
        
        if city:
            city_lower = city.lower()
            for city_name in WEATHER_INFO.keys():
                if city_name in city_lower:
                    self.print_info(f"ะะะะะะ ะ {city_name.upper()}", WEATHER_INFO[city_name])
                    return True
            
            # ะัะปะธ ะณะพัะพะด ะฝะต ะฝะฐะนะดะตะฝ
            weather = random.choice(list(WEATHER_INFO.values()))
            self.print_info("ะะะะะะ", weather + "\n\n(ะะพะบะฐะทะฐะฝะฐ ัะปััะฐะนะฝะฐั ะฟะพะณะพะดะฐ ะธะท ะฑะฐะทั ะดะฐะฝะฝัั)")
        else:
            # ะกะปััะฐะนะฝะฐั ะฟะพะณะพะดะฐ
            city, weather = random.choice(list(WEATHER_INFO.items()))
            self.print_info(f"ะะะะะะ ะ {city.upper()}", weather)
        
        return True
    
    def cmd_news(self):
        """ะัะบัััั ะฝะพะฒะพััะธ"""
        self.print_info("ะะะะะกะขะ", "ะัะบััะฒะฐั ะฟะพัะปะตะดะฝะธะต ะฝะพะฒะพััะธ...")
        webbrowser.open("https://news.google.com")
        return True
    
    def cmd_currency(self):
        """ะัััั ะฒะฐะปัั (ะฟัะธะผะตัะฝัะต)"""
        import random
        usd = round(90 + random.uniform(-2, 2), 2)
        eur = round(100 + random.uniform(-3, 3), 2)
        
        currencies = [
            f"๐บ๐ธ ะะพะปะปะฐั ะกะจะ (USD): {usd} RUB",
            f"๐ช๐บ ะะฒัะพ (EUR): {eur} RUB",
            f"๐จ๐ณ ะฎะฐะฝั (CNY): {round(usd/7, 2)} RUB",
            f"๐ฌ๐ง ะคัะฝั ััะตัะปะธะฝะณะพะฒ (GBP): {round(eur * 0.85, 2)} RUB",
            f"๐ฏ๐ต ะะตะฝะฐ (JPY): {round(usd/140, 4)} RUB"
        ]
        
        self.print_info("ะะฃะะกะซ ะะะะฎะข", "\n".join(currencies))
        return True
    
    def cmd_science(self):
        """ะะฐััะฝัะน ัะฐะบั"""
        fact = random.choice(SCIENCE_FACTS)
        self.print_info("ะะะฃะงะะซะ ะคะะะข", fact)
        return True
    
    def cmd_history(self):
        """ะััะพัะธัะตัะบะธะน ัะฐะบั"""
        history_facts = [
            "ะะตัะฒะฐั ะฒ ะผะธัะต ะฒะตะฑ-ัััะฐะฝะธัะฐ ะฑัะปะฐ ัะพะทะดะฐะฝะฐ ะฒ 1991 ะณะพะดั ะขะธะผะพะผ ะะตัะฝะตััะพะผ-ะะธ.",
            "ะะตัะฒัะน ะบะพะผะฟัััะตัะฝัะน ะฒะธััั ะฑัะป ัะพะทะดะฐะฝ ะฒ 1983 ะณะพะดั.",
            "ะะตัะฒัะน ัะผะฐัััะพะฝ IBM Simon ะฑัะป ะฒัะฟััะตะฝ ะฒ 1994 ะณะพะดั.",
            "ะะตัะฒัะน ัะฒะธั ะฑัะป ะพัะฟัะฐะฒะปะตะฝ 21 ะผะฐััะฐ 2006 ะณะพะดะฐ.",
            "YouTube ะฑัะป ะพัะฝะพะฒะฐะฝ 14 ัะตะฒัะฐะปั 2005 ะณะพะดะฐ."
        ]
        fact = random.choice(history_facts)
        self.print_info("ะะกะขะะะะงะะกะะะ ะคะะะข", fact)
        return True
    
    def cmd_programming(self):
        """ะคะฐะบั ะพ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะธ"""
        programming_facts = [
            "ะะตัะฒัะน ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั โ Fortran, ัะพะทะดะฐะฝ ะฒ 1957 ะณะพะดั.",
            "Python ะฝะฐะทะฒะฐะฝ ะฝะต ะฒ ัะตััั ะทะผะตะธ, ะฐ ะฒ ัะตััั ะบะพะผะตะดะธะนะฝะพะณะพ ัะพั 'ะะตัะฐััะธะน ัะธัะบ ะะพะฝัะธ ะะฐะนัะพะฝะฐ'.",
            "JavaScript ะฑัะป ัะพะทะดะฐะฝ ะทะฐ 10 ะดะฝะตะน ะัะตะฝะดะฐะฝะพะผ ะะนะบะพะผ ะฒ 1995 ะณะพะดั.",
            "ะะตัะฒัะผ ะฟัะพะณัะฐะผะผะธััะพะผ ะฒ ะธััะพัะธะธ ะฑัะปะฐ ะะดะฐ ะะฐะฒะปะตะนั ะฒ XIX ะฒะตะบะต.",
            "ะกะฐะผะพะต ะฟะพะฟัะปััะฝะพะต ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต 'Hello World' ะฒะฟะตัะฒัะต ะฟะพัะฒะธะปะพัั ะฒ ะบะฝะธะณะต ะฟะพ ัะทัะบั C ะฒ 1978 ะณะพะดั."
        ]
        fact = random.choice(programming_facts)
        self.print_info("ะคะะะข ะ ะะะะะะะะะะะะะะะะ", fact)
        return True
    
    def cmd_advice(self):
        """ะกะปััะฐะนะฝัะน ัะพะฒะตั"""
        advice_list = [
            "ะะตะปะฐะนัะต ัะตะณัะปััะฝัะต ะฟะตัะตััะฒั ะฟัะธ ัะฐะฑะพัะต ะทะฐ ะบะพะผะฟัััะตัะพะผ โ ััะพ ัะพััะฐะฝะธั ะฒะฐัะต ะทัะตะฝะธะต.",
            "ะะทััะฐะนัะต ััะพ-ัะพ ะฝะพะฒะพะต ะบะฐะถะดัะน ะดะตะฝั, ะดะฐะถะต ะตัะปะธ ััะพ ะผะฐะปะตะฝัะบะธะน ัะฐะบั.",
            "ะะตะนัะต ะฑะพะปััะต ะฒะพะดั โ ััะพ ัะปัััะฐะตั ัะฐะฑะพัั ะผะพะทะณะฐ.",
            "ะะตะณัะปััะฝะพ ะดะตะปะฐะนัะต ัะตะทะตัะฒะฝัะต ะบะพะฟะธะธ ะฒะฐะถะฝัั ัะฐะนะปะพะฒ.",
            "ะงะธัะฐะนัะต ะดะพะบัะผะตะฝัะฐัะธั โ ััะพ ััะบะพะฝะพะผะธั ะฒะฐะผ ัะฐัั ะฟะพะธัะบะฐ ัะตัะตะฝะธะน ะฒ ะธะฝัะตัะฝะตัะต.",
            "ะะต ะฑะพะนัะตัั ะทะฐะดะฐะฒะฐัั ะฒะพะฟัะพัั โ ะดะฐะถะต ะพะฟััะฝัะต ะฟัะพะณัะฐะผะผะธััั ััะพ ะดะตะปะฐัั.",
            "ะัะฐะบัะธะบัะนัะตัั ัะตะณัะปััะฝะพ โ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต ััะตะฑัะตั ะฟะพััะพัะฝะฝะพะน ะฟัะฐะบัะธะบะธ.",
            "ะัะฟะพะปัะทัะนัะต ัะธััะตะผั ะบะพะฝััะพะปั ะฒะตััะธะน (Git) ะดะปั ะฒัะตั ัะฒะพะธั ะฟัะพะตะบัะพะฒ.",
            "ะะพะผะผะตะฝัะธััะนัะต ัะฒะพะน ะบะพะด โ ะฒะฐัะต ะฑัะดััะตะต 'ั' ัะบะฐะถะตั ะฒะฐะผ ัะฟะฐัะธะฑะพ.",
            "ะะต ะบะพะฟะธััะนัะต ะบะพะด ะฑะตะท ะฟะพะฝะธะผะฐะฝะธั, ะบะฐะบ ะพะฝ ัะฐะฑะพัะฐะตั."
        ]
        advice = random.choice(advice_list)
        self.print_info("ะกะะะะข ะะะฏ", advice)
        return True
    
    def cmd_browser(self):
        """ะัะบัััั ะฑัะฐัะทะตั"""
        self.print_info("ะะะะฃะะะ", "ะัะบััะฒะฐั Google...")
        webbrowser.open("https://www.google.com")
        return True
    
    def cmd_youtube(self):
        """ะัะบัััั YouTube"""
        self.print_info("YOUTUBE", "ะัะบััะฒะฐั YouTube...")
        webbrowser.open("https://www.youtube.com")
        return True
    
    def cmd_help(self):
        """ะะพะบะฐะทะฐัั ะฟะพะผะพัั"""
        help_text = """
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ะะะคะะะะะฆะะะะะซะ ะะะะะะะซ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ ๐ ะัะฝะพะฒะฝะพะต:                                     โ
โ   โข ะัะธะฒะตั    - ะะฐัะฐะปะพ ัะฐะฑะพัั                   โ
โ   โข ะัะตะผั     - ะขะตะบััะตะต ะฒัะตะผั                   โ
โ   โข ะะฐัะฐ      - ะกะตะณะพะดะฝััะฝัั ะดะฐัะฐ                โ
โ                                                 โ
โ ๐ ะะฝัะพัะผะฐัะธั:                                  โ
โ   โข ะฆะธัะฐัะฐ    - ะัะดัะฐั ัะธัะฐัะฐ                   โ
โ   โข ะคะฐะบั      - ะะฝัะตัะตัะฝัะน ัะฐะบั                 โ
โ   โข ะจััะบะฐ     - ะัะพะณัะฐะผะผะธัััะบะฐั ัััะบะฐ           โ
โ   โข ะะฐัะบะฐ     - ะะฐััะฝัะน ัะฐะบั                    โ
โ   โข ะััะพัะธั   - ะััะพัะธัะตัะบะธะน ัะฐะบั               โ
โ   โข ะกะพะฒะตั     - ะะพะปะตะทะฝัะน ัะพะฒะตั                  โ
โ                                                 โ
โ ๐ ะะฝัะตัะฝะตั:                                    โ
โ   โข ะะพะณะพะดะฐ    - ะะฝัะพัะผะฐัะธั ะพ ะฟะพะณะพะดะต             โ
โ   โข ะััั      - ะัััั ะฒะฐะปัั                     โ
โ   โข ะะพะฒะพััะธ   - ะัะบัััั ะฝะพะฒะพััะธ                 โ
โ   โข ะัะฐัะทะตั   - ะัะบัััั Google                  โ
โ   โข ะฎััะฑ      - ะัะบัััั YouTube                 โ
โ                                                 โ
โ โ๏ธ ะกะธััะตะผะฝัะต:                                   โ
โ   โข ะะพะผะพัั    - ะญัะฐ ัะฟัะฐะฒะบะฐ                     โ
โ   โข ะะพะผะฐะฝะดั   - ะกะฟะธัะพะบ ะบะพะผะฐะฝะด                   โ
โ   โข ะกัะพะฟ      - ะัะนัะธ ะธะท ะฟัะพะณัะฐะผะผั              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
        """
        print(help_text)
        return True
    
    def cmd_stop(self):
        """ะััะฐะฝะพะฒะธัั ะฐััะธััะตะฝัะฐ"""
        self.print_info("ะะะะะะจะะะะ", "ะะพ ัะฒะธะดะฐะฝะธั! ะัะดั ัะฐะด ะฟะพะผะพัั ัะฝะพะฒะฐ.")
        self.running = False
        return True
    
    def process_command(self, command_text: str) -> bool:
        """ะะฑัะฐะฑะพัะฐัั ะบะพะผะฐะฝะดั"""
        if not command_text:
            return False
        
        # ะัะพะฒะตััะตะผ ะฒัะต ะบะพะผะฐะฝะดั
        for cmd_key, cmd_func in self.commands.items():
            if cmd_key in command_text:
                print(f"๐ ะะฐะนะดะตะฝะฐ ะบะพะผะฐะฝะดะฐ: {cmd_key}")
                return cmd_func()
        
        # ะัะปะธ ะบะพะผะฐะฝะดะฐ ะฝะต ะฝะฐะนะดะตะฝะฐ
        print("๐ค: ะะต ะฟะพะฝัะป ะบะพะผะฐะฝะดั. ะกะบะฐะถะธัะต 'ะฟะพะผะพัั' ะดะปั ัะฟะธัะบะฐ ะบะพะผะฐะฝะด.")
        return False
    
    def run(self):
        """ะัะฝะพะฒะฝะพะน ัะธะบะป"""
        print("\n" + "="*60)
        print("๐ ะะะคะะะะะฆะะะะะซะ ะะกะกะะกะขะะะข ะะะะฃะฉะะ")
        print("="*60)
        
        print("๐ ะกะบะฐะถะธัะต 'ะฟัะธะฒะตั' ะดะปั ะฝะฐัะฐะปะฐ ะธะปะธ 'ะฟะพะผะพัั' ะดะปั ัะฟะธัะบะฐ ะบะพะผะฐะฝะด")
        
        while self.running:
            try:
                # ะกะปััะฐะตะผ ะบะพะผะฐะฝะดั
                command = self.listen_command()
                
                # ะะฑัะฐะฑะฐััะฒะฐะตะผ
                if command:
                    self.process_command(command)
                
                # ะะฐัะทะฐ ะผะตะถะดั ะบะพะผะฐะฝะดะฐะผะธ
                time.sleep(0.5)
                
            except KeyboardInterrupt:
                print("\n\nโ๏ธ  ะัะพะณัะฐะผะผะฐ ะพััะฐะฝะพะฒะปะตะฝะฐ (Ctrl+C)")
                self.cmd_stop()
                break
            except Exception as e:
                print(f"\nโ๏ธ  ะัะธะฑะบะฐ: {e}")
                time.sleep(1)
        
        print("\n" + "="*60)
        print("โ ะะกะกะะกะขะะะข ะะกะขะะะะะะะ")
        print("="*60)

# ================= ะะะะะะะฏ ะคะฃะะะฆะะฏ =================

def main():
    """ะขะพัะบะฐ ะฒัะพะดะฐ"""
    
    print("""
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ    ะะะคะะะะะฆะะะะะซะ ะะะะะกะะะะ ะะกะกะะกะขะะะข            โ
โ          ะะตััะธั 3.0 | Python 3.13                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    
๐ ะะพะทะผะพะถะฝะพััะธ:
โข ะะฐััะบะฐะทัะฒะฐัั ัะธัะฐัั ะธ ัะฐะบัั
โข ะะพะบะฐะทัะฒะฐัั ะฟะพะณะพะดั ะธ ะบัััั ะฒะฐะปัั
โข ะัะบััะฒะฐัั ัะฐะนัั ะธ ะฝะพะฒะพััะธ
โข ะะฐะฒะฐัั ะฟะพะปะตะทะฝัะต ัะพะฒะตัั
โข ะ ะผะฝะพะณะพะต ะดััะณะพะต!
    
๐ฏ ะัะพััะพ ะณะพะฒะพัะธัะต ััะพ ะฒะฐั ะธะฝัะตัะตััะตั!
""")
    
    try:
        # ะัะพะฒะตััะตะผ ะผะธะบัะพัะพะฝ
        print("\n๐ ะัะพะฒะตัะบะฐ ะผะธะบัะพัะพะฝะฐ...")
        try:
            with sr.Microphone() as source:
                print("โ ะะธะบัะพัะพะฝ ะพะฑะฝะฐััะถะตะฝ")
        except:
            print("โ๏ธ  ะัะพะฑะปะตะผะฐ ั ะผะธะบัะพัะพะฝะพะผ. ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต.")
        
        print("\n" + "="*60)
        input("ะะฐะถะผะธัะต Enter ะดะปั ะทะฐะฟััะบะฐ ะฐััะธััะตะฝัะฐ... (ะธะปะธ Ctrl+C ะดะปั ะฒััะพะดะฐ)")
        
        # ะกะพะทะดะฐะตะผ ะธ ะทะฐะฟััะบะฐะตะผ ะฐััะธััะตะฝัะฐ
        assistant = InfoAssistant()
        assistant.run()

    except KeyboardInterrupt:
        print("\n\n๐ ะัะธะฝัะดะธัะตะปัะฝะฐั ะพััะฐะฝะพะฒะบะฐ ะฟัะพะณัะฐะผะผั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ.")
        
    except Exception as e:
        print(f"\n๐ฅ ะัะธัะธัะตัะบะฐั ะพัะธะฑะบะฐ: {e}")
        print("ะะพะฟัะพะฑัะนัะต ะฟะตัะตะทะฐะฟัััะธัั ะฟัะพะณัะฐะผะผั")
    
    finally:
        print("\nะกะฟะฐัะธะฑะพ ะทะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะธะฝัะพัะผะฐัะธะพะฝะฝะพะณะพ ะฐััะธััะตะฝัะฐ!")
        # ะฃะดะฐะปัะตะผ input ะทะดะตัั, ััะพะฑั ะฟัะพะณัะฐะผะผะฐ ััะฐะทั ะทะฐะบััะฒะฐะปะฐัั ะฟัะธ Ctrl+C,
        # ะธะฝะฐัะต ะพะฝะฐ ัะฝะพะฒะฐ ะฟะพะฒะธัะฝะตั ะพะถะธะดะฐั Enter
        if sys.platform == "win32":
            os.system("pause")

# ================= ะะะะฃะกะ =================

if __name__ == "__main__":
    main()